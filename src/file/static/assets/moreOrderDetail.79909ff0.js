import{d as x,r as p,o as C,b as v,c as i,e as l,f as E,w as m,F as h,g as f,u as w,k as F,l as b,h as e,t as D}from"./index.a9eb44ad.js";import{G as O}from"./my.7c278380.js";import"./request.e88f5894.js";const M={class:"order-item"},R=["onClick"],q={class:"order-item-image"},A=["src"],G={class:"order-item-view"},N={class:"item-view-title"},V=e("span",{class:"item-view-remaks"},null,-1),S={class:"order-item-price flex-center-start-column"},U={class:"item-price"},$=e("div",{class:"order-button"},"\u53BB\u4ED8\u6B3E",-1),P=x({__name:"moreOrderDetail",setup(j){const k=w(),{query:{type:g}}=F(),u=p(0),d=p([{id:0,title:"\u5F85\u4ED8\u6B3E",status:1,dataList:[]},{id:1,title:"\u5F85\u914D\u9001",status:2,dataList:[]},{id:2,title:"\u914D\u9001\u4E2D",status:3,dataList:[]},{id:3,title:"\u5DF2\u5B8C\u6210",status:4,dataList:[]},{id:4,title:"\u5DF2\u5173\u95ED",status:0,dataList:[]}]),y=()=>u.value=g-1,_=async r=>{let t=d.value.find(s=>s.id===r),c=(await O({status:t==null?void 0:t.status})).list,o=t==null?void 0:t.dataList.map(s=>s.order_number),a=c.filter(s=>!(o!=null&&o.includes(s.order_number)));t==null||t.dataList.push(...a)},L=r=>{let{order_number:t}=r;k.push({name:"OrderDetail",query:{id:t}})};return C(()=>{_(1),y()}),(r,t)=>{const c=v("van-tab"),o=v("van-tabs");return i(),l("div",null,[E(o,{active:u.value,"onUpdate:active":t[0]||(t[0]=a=>u.value=a),background:"#000",color:"#f0e2bf","title-active-color":"#f0e2bf","offset-top":"46px",sticky:"",onChange:_},{default:m(()=>[(i(!0),l(h,null,f(d.value,(a,s)=>(i(),b(c,{key:s,title:a.title},{default:m(()=>[e("ul",M,[(i(!0),l(h,null,f(a.dataList,(n,B)=>(i(),l("li",{class:"flex-center-start",key:B,onClick:z=>L(n)},[e("div",q,[e("img",{src:n.shop_image,alt:"",srcset:""},null,8,A)]),e("div",G,[e("p",N,D(n.shop_name),1),V]),e("div",S,[e("span",U,"\xA5"+D(n.shop_price),1),$])],8,R))),128))])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])])}}});export{P as default};
