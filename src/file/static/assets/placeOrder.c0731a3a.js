import{d as A,r as v,x as g,o as x,b as O,c as o,e as n,h as e,j as S,t as s,i as l,F as D,g as B,l as w,u as C,k as F,p as I,m as R,_ as j}from"./index.a9eb44ad.js";import{a as E}from"./marke.8d60d36d.js";import{f as N,g as V}from"./my.7c278380.js";import"./request.e88f5894.js";const m=r=>(I("data-v-aabecc00"),r=r(),R(),r),q={class:"order-info"},G={class:"city"},L=m(()=>e("span",{class:"city-title"},"\u9ED8\u8BA4",-1)),M={class:"detail"},T={class:"user"},z=m(()=>e("i",{class:"iconfont icon-dayufuhao"},null,-1)),H={key:1,class:"shop-dateil flex-start-start"},J={class:"dateil-image"},K=["src"],P={class:"name"},Q={class:"intro"},U=A({__name:"placeOrder",setup(r){const d=C(),i=F(),a=v(),t=v(),{query:{shop_id:u}}=i;g(i,c=>c.name==="placeOrder"&&_());const _=async()=>a.value=await N(),h=async()=>t.value=await E({shop_id:u}),y=()=>{const{address_id:c}=a.value;console.log(c),V({shop_id:u,address_id:c,order_number:1}).then(()=>d.replace({name:"marke"}))},f=()=>d.push({name:"addressDetail",query:{type:"order"}});return x(()=>{_(),h()}),(c,W)=>{const b=O("van-submit-bar");return o(),n("div",q,[a.value?(o(),n("div",{key:0,class:"order-address",onClick:f},[e("p",G,[L,S(" "+s(a.value.province)+s(a.value.city)+s(a.value.area.split("|")[0]),1)]),e("p",M,s(a.value.detail),1),e("p",T,s(a.value.name)+" "+s(a.value.phone),1),z])):l("",!0),t.value?(o(),n("div",H,[e("div",J,[e("img",{src:t.value.shop_image[0],alt:""},null,8,K)]),e("div",null,[e("p",P,s(t.value.name),1),e("p",Q,s(t.value.intro),1),e("ul",null,[(o(!0),n(D,null,B(t.value.options,(p,k)=>(o(),n("li",{key:k},s(Object.keys(p)[0])+" "+s(Object.values(p)[0]),1))),128))])])])):l("",!0),t.value?(o(),w(b,{key:2,price:t.value.price*100,"button-text":"\u63D0\u4EA4\u8BA2\u5355",onSubmit:y},null,8,["price"])):l("",!0)])}}});const ee=j(U,[["__scopeId","data-v-aabecc00"]]);export{ee as default};
